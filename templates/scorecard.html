<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scorecard</title>
    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/legend.css') }}"> -->
</head>
<body>
    <table class="first" id="table" cellpadding="0.2">
        <tbody align="center">
            <!--Regions-->
            <tr>
                <th colspan="2" rowspan="2">{{data.model2}} vs.{{data.model1}}</th>
                {% for r in data.region %}
                    <th class="threg" colspan="{{data.region_colspan}}">{{r}}</th>
                {% endfor %}
            </tr>
            <!--week-->
            <tr>
                {% for r in range(0, data.region|length) %}
                    {% for w in data.week %}
                        {% if w[-1] == '1' or w[-1] == '3' or w[-1] == '5'%}
                            <th>{{w}}</th>
                        {% else %}
                            <th style="background-color: #E6E6E6;">{{w}}</th>
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            </tr>

            <tr>
                <!-- 正常來說這邊的第一個tr要帶第一筆資料，但為了for loop方便，換到下個tr寫，所以這邊的row_span要+1 -->
                <th rowspan="{{data.rms_rowspan}}">RMSE</th>
            </tr>
            {% for dict_item in data.rms_score_data%}
                {% for k, v in dict_item.items() %}
                   <tr>
                       <td>{{k}}</td>
                       {% for ds95, ds99, ds999 in v %}
                            {% if ds999 >= 1  %}
                                <td class="cfup">&#9650;</td>
                            {% elif ds999 < 1 and ds99 >= 1 %}
                                <td class="cfup">&#9651;</td>
                            {% elif ds99 < 1 and ds95 >= 1 %}
                                <td class="cfup">&#9653;</td>
                            {% elif ds95 > -1 and ds95 < 1 %}
                                <td class="cfnorm">&#9900</td>
                            {% elif ds95 <= -1 and ds99 > -1 %}
                                <td class="cflow">&#9663;</td>
                            {% elif ds99 <= -1 and ds999 > -1 %}
                                <td class="cflow">&#9661;</td>
                            {% elif ds999 <= -1 and ds999 > -100.0 %}
                                <td class="cflow">&#9660;</td>
                            {% elif ds999 < -100.0 %}
                                <td>M</td>
                            {% endif %}
                        {% endfor %}
                   </tr> 
                {% endfor %}
            {% endfor %}
                

            <tr>
                <!-- 正常來說這邊的第一個tr要帶第一筆資料，但為了for loop方便，換到下個tr寫，所以這邊的row_span要+1 -->
                <th rowspan="{{data.pco_rowspan}}">Anomaly Correlation</th>
            </tr>
            {% for dict_item in data.pco_score_data%}
                {% for k, v in dict_item.items() %}
                   <tr>
                       <td>{{k}}</td>
                       {% for ds95, ds99, ds999 in v %}
                            {% if ds999 >= 1  %}
                                <td class="cfup">&#9650;</td>
                            {% elif ds999 < 1 and ds99 >= 1 %}
                                <td class="cfup">&#9651;</td>
                            {% elif ds99 < 1 and ds95 >= 1 %}
                                <td class="cfup">&#9653;</td>
                            {% elif ds95 > -1 and ds95 < 1 %}
                                <td class="cfnorm">&#9900</td>
                            {% elif ds95 <= -1 and ds99 > -1 %}
                                <td class="cflow">&#9663;</td>
                            {% elif ds99 <= -1 and ds999 > -1 %}
                                <td class="cflow">&#9661;</td>
                            {% elif ds999 <= -1 and ds999 > -100.0 %}
                                <td class="cflow">&#9660;</td>
                            {% elif ds999 < -100.0 %}
                                <td>M</td>
                            {% endif %}
                        {% endfor %}
                   </tr> 
                {% endfor %}
            {% endfor %}


            <tr>
                <!-- 正常來說這邊的第一個tr要帶第一筆資料，但為了for loop方便，換到下個tr寫，所以這邊的row_span要+1 -->
                <th rowspan="{{data.bias_rowspan}}">Bias</th>
            </tr>
            {% for dict_item in data.bias_score_data%}
                {% for k, v in dict_item.items() %}
                   <tr>
                       <td>{{k}}</td>
                       {% for ds95, ds99, ds999 in v %}
                            {% if ds999 >= 1  %}
                                <td class="cfup">&#9650;</td>
                            {% elif ds999 < 1 and ds99 >= 1 %}
                                <td class="cfup">&#9651;</td>
                            {% elif ds99 < 1 and ds95 >= 1 %}
                                <td class="cfup">&#9653;</td>
                            {% elif ds95 > -1 and ds95 < 1 %}
                                <td class="cfnorm">&#9900</td>
                            {% elif ds95 <= -1 and ds99 > -1 %}
                                <td class="cflow">&#9663;</td>
                            {% elif ds99 <= -1 and ds999 > -1 %}
                                <td class="cflow">&#9661;</td>
                            {% elif ds999 <= -1 and ds999 > -100.0 %}
                                <td class="cflow">&#9660;</td>
                            {% elif ds999 < -100.0 %}
                                <td>M</td>
                            {% endif %}
                        {% endfor %}
                   </tr> 
                {% endfor %}
            {% endfor %}
        </tbody>
    </table>
</body>
</html>